/**
 * lightgallery.js v1.2.3
 * Author: Dmitri Ischenko - ischenkodv@gmail.com, http://code.google.com/p/lightgallery/
 * Freely distributable under MIT-style license.
 */
var lightgallery=(function(){var f,e,z={showOverlay:true,overlayColor:"#000",overlayOpacity:0.85,zoomStep:0.2,animate:true,framesNumber:20,speed:30,resizeSync:false,enableZoom:true,fadeImage:true,alias:"lightgallery",fullSize:false,minPadding:15},V={next:"Next",prev:"Previous",zoomIn:"Zoom In",zoomOut:"Zoom Out",fullSize:"Full Size",fitScreen:"Fit screen",close:"Close",image:"Image",of:"of"},H,F,l,B,a,g,q,h,T,b,t,S,O,E,o="hidden",y="visible",j="block",r="none",s="div",d=[];var k={setLangVars:function(G){n(V,G)},init:function(aa){n(z,aa);z.fullSize=z.fullSize?1:0;d=[];var ac=document.getElementsByTagName("a"),ab=new RegExp("^"+z.alias+"\\[([a-zA-Z]+)\\]|"+z.alias+"$"),Z;for(var Y=0,X=ac.length;Y<X;Y++){if(!ac[Y].__is_init__&&ac[Y].rel&&(Z=ac[Y].rel.match(ab))){i(ac[Y],"click",k.showImage);if(Z=Z[1]){ac[Y].__gallery__=Z;if(!d[Z]){d[Z]=[]}ac[Y].__index__=d[Z].push(ac[Y])-1}ac[Y].__is_init__=true}}var G=document.getElementsByTagName("body")[0];if(z.showOverlay){G.appendChild(S=W(s,{id:"LG_overlay",events:{click:k.close}}))}G.appendChild(H=v());if(G.attachEvent){i(G,"keypress",p)}else{i(window,"keypress",p)}(q=W("img")).onload=function(){c();q.__is_loaded__=true;h.setAttribute("src",q.src);m(z.fullSize);k.preload(t)};e=H.offsetHeight;f=0;N(S,{background:(z.overlayColor)});M(S,z.overlayOpacity)},open:function(){var G=u();if(S){N(S,{width:(k.overlayWidth=G[0])+"px",height:(k.overlayHeight=G[1])+"px",display:j});x(S,0,z.overlayOpacity*100,9)}h.style.display=j;m();N(H,{visibility:y,display:j});b=true},close:function(){if(S){S.style.display=r}N(H,{visibility:o,display:r});b=false;q.src=h.src="";q.__is_loaded__=false},zoomIn:function(){k.Zoom(1+z.zoomStep)},zoomOut:function(){k.Zoom(1-z.zoomStep)},zoomNormal:function(){if(this.$disabled){return}k.Zoom(h.width==q.width&&h.height==q.height?0:1)},Zoom:function(G){Q();m(G)},preload:function(X){var G=d[T];if(!G){return}(new Image).src=(G[X+1])?G[X+1].href:"";(new Image).src=(G[X-1])?G[X-1].href:""},showImage:function(X){var G=this.__index__,X=X||window.event;C(X);if(this.__gallery__&&G>-1){T=this.__gallery__;k.show(G)}else{k.showSingle(this)}},showSingle:function(G){if(!b){k.open()}Q();w();q.__is_loaded__=false;q.src=G.href;F.innerHTML=G.title;a.innerHTML="";l.style.visibility=o;B.style.visibility=o},show:function(X){if(!X&&T===null){return}if(!b){k.open()}var G=d[T],Y=B.style,Z=l.style;if(X<0||X>G.length-1){return}Q();w();q.__is_loaded__=false;q.src=G[X].href;F.innerHTML=G[X].title;a.innerHTML=V.image+" "+(X+1)+" "+V.of+" "+G.length;if(X===0){M(l,0);B.$active=!(l.$active=false);Z.visibility=o;Y.visibility=y}else{if(X===G.length-1){M(B,0);B.$active=!(l.$active=true);Z.visibility=y;Y.visibility=o}else{if(X>0||X<G.length-1){l.$active=B.$active=true;Z.visibility=Y.visibility=y}}}t=X;window.focus()},next:function(){if(t<d[T].length-1){k.show(++t)}},prev:function(){if(t>0){k.show(--t)}}};function m(am){var ab,ao,ag,an,ai=z.minPadding*2,ah=z.framesNumber,aj=u(),X=q.width+f+ai,ad=q.height+e+ai,au=aj[2],al=aj[3],Y=au/al,at=X/ad;if(q.__is_loaded__&&!am){if(X>au||ad>al){if(at>Y){X=au;ad=au*ad/X}else{X=al*X/ad;ad=al}}h.width=(ag=X-ai)-f;h.height=(an=ad-ai)-e}else{if(am==1){ag=(h.width=q.width)+f;an=(h.height=q.height)+e}else{if(am<1||am>1){ag=(h.width*=am)+f;an=(h.height*=am)+e}else{ag=an=300;var G=true}}}if(ab=(X>au||ad>al)){ao=V.fitScreen;fsClass="LG_fitScreen"}else{ao=V.fullSize;fsClass="LG_zoomNormal"}g.$disabled=false;if(h.width==q.width){if(ab){g.className=fsClass;g.setAttribute("title",ao)}else{g.className="LG_zoom_disabled";g.$disabled=true}}else{g.className="LG_zoomNormal";g.setAttribute("title",V.fullSize)}ag=Math.max(ag,300);var ak=ag+ai,ac=an+ai;N(S,{width:(ak>k.overlayWidth?ag+ai:k.overlayWidth)+"px",height:(ac>k.overlayHeight?an+ai:k.overlayHeight)+"px"});var ap=J(),ae=(al>ac?(al-an)/2:z.minPadding)+ap[1],af=(au>ak?(au-ag)/2:z.minPadding)+ap[0],aq=(ag/3)+"px",Z=(an-e-10)+"px";N(B,{width:aq,height:Z});N(l,{width:aq,height:Z});if(z.animate&&!G){var aa=new A(H,ah,z.speed);if(z.resizeSync){aa.addThread("width",null,ag,0,ah).addThread("left",null,af,0,ah).addThread("height",null,an,0,ah).addThread("top",null,ae,0,ah)}else{var av=Math.ceil(ah/2);aa.addThread("width",null,ag,0,av).addThread("left",null,af,0,av).addThread("height",null,an,av,ah).addThread("top",null,ae,av,ah)}aa.addAction(function(){D()},z.framesNumber-1);aa.run()}else{N(H,{top:ae+"px",left:af+"px",width:ag+"px",height:an+"px"});D()}}function D(){var G=H.childNodes,X=function(){for(var Y=G.length;--Y>-1;){G[Y].style.display=j}};if(z.fadeImage){(new A(h,8,z.speed)).addThread("opacity",0,100).addAction(X,0).run()}else{X();M(h,100)}}function Q(){for(var G=H.childNodes.length;--G>-1;){H.childNodes[G].style.display=r}M(h,0)}function w(){H.className="LG_loading"}function c(){H.className=""}function v(){var X,G;if(z.enableZoom){X=W(s,{"class":"LG_zoomIn",title:V.zoomIn,events:{click:k.zoomIn}});G=W(s,{"class":"LG_zoomOut",title:V.zoomOut,events:{click:k.zoomOut}})}return W(s,{id:"LG_container"},W(s,0,X,G,g=W(s,{"class":"LG_zoomNormal",title:V.fullSize,events:{click:k.zoomNormal}}),a=W(s,{"class":"LG_imgIndex"}),W(s,{"class":"LG_closeBtn",title:V.close,events:{click:k.close}}),W("br",{clear:"all"})),h=W("img",{id:"LG_pic",width:300,height:300}),F=W(s,{"class":"LG_titleBar"}),l=W(s,{"class":"LG_prevLink",title:V.prev,events:{click:k.prev,mouseover:L,mouseout:R}}),B=W(s,{"class":"LG_nextLink",title:V.next,events:{click:k.next,mouseover:L,mouseout:R}}))}function p(X){if(!b){return}var X=X||window.event,G=X.keyCode?X.keyCode:(X.which?X.which:X.charCode);switch(G){case 110:k.next();break;case 98:k.prev();break;case 102:k.zoomNormal();break;case 43:k.zoomIn();break;case 45:k.zoomOut();break;case 27:k.close()}C(X)}function L(){if(this.$active){x(this,0,100)}}function R(){if(this.$active){P(this,100,0)}}function x(Y,X,G,aa,Z){U(Y,X||0,G||100,aa,Z)}function P(Y,X,G,aa,Z){U(Y,X||100,G||0,aa,Z)}function U(Y,X,G,aa,Z){if(z.animate){(new A(Y,aa||5,Z||40)).addThread("opacity",X,G).run()}else{M(Y,G)}}function C(G){if(G.preventDefault){G.preventDefault()}else{G.returnValue=false}}function i(Y,X,G){if(window.addEventListener){i=function(ab,aa,Z){ab.addEventListener(aa,Z,false)}}else{if(window.attachEvent){i=function(ab,aa,Z){var ac=function(){Z.call(ab,window.event)};ab.attachEvent("on"+aa,ac)}}}return i(Y,X,G)}function n(Y,X){for(var G in X){Y[G]=X[G]}}function N(X,G){if(X){n(X.style,G)}}function u(){var ab,X,Z,ad,G=document.body,ac=document.documentElement;if(window.innerHeight&&window.scrollMaxY){ab=G.scrollWidth;X=window.innerHeight+window.scrollMaxY}else{if(G.scrollHeight>G.offsetHeight){ab=G.scrollWidth;X=G.scrollHeight}else{if(ac&&ac.scrollHeight>ac.offsetHeight){ab=ac.scrollWidth;X=ac.scrollHeight}else{ab=G.offsetWidth;X=G.offsetHeight}}}if(self.innerHeight){Z=self.innerWidth;ad=self.innerHeight}else{if(ac&&ac.clientHeight){Z=ac.clientWidth;ad=ac.clientHeight}else{if(G){Z=G.clientWidth;ad=G.clientHeight}}}var aa=X<ad?ad:X;var Y=ab<Z?Z:ab;return[Y,aa,Z,ad]}function J(){var Y=0,X=0,G=document.body,Z=document.documentElement;if(typeof(window.pageYOffset)=="number"){X=window.pageYOffset;Y=window.pageXOffset}else{if(G&&(G.scrollLeft||G.scrollTop)){X=G.scrollTop;Y=G.scrollLeft}else{if(Z&&(Z.scrollLeft||Z.scrollTop)){X=Z.scrollTop;Y=Z.scrollLeft}}}return[Y,X]}function K(Y,G){var Z=document.defaultView;if(Y.style[G]){return Y.style[G]}else{if(Y.currentStyle){return Y.currentStyle[G]}else{if(Z&&Z.getComputedStyle){G=G.replace(/([A-Z])/g,"-$1");G=G.toLowerCase();var X=Z.getComputedStyle(Y,"");return X&&X.getPropertyValue(G)}}}return null}function M(){M=arguments[0].filters?function(G,X){G.style.filter="alpha(opacity="+X+")"}:function(G,X){G.style.opacity=X/100};M(arguments[0],arguments[1])}function W(Y,X){var ac=document.createElement(Y);if(X){for(var aa in X){if(aa=="events"){for(var Z in X[aa]){i(ac,Z,X[aa][Z])}}else{var ad=X[aa];if(typeof ad!="undefined"){if(aa=="class"||aa=="for"){aa={"for":"htmlFor","class":"className"}[aa]||aa;ac[aa]=ad}else{ac.setAttribute(aa,ad)}}}}}for(var ab=2,G=arguments.length;ab<G;ab++){switch(typeof arguments[ab]){case"string":ac.innerHTML+=arguments[ab];break;case"object":ac.appendChild(arguments[ab]);break}}return ac}function A(X,G,Y){if(!X){return null}this.elem=X;this.numFrames=G||0;this.frames=[];this.speed=Y||10}A.prototype={addThread:function(G,Y,ad,ab,X){if(!G||ad==="undefined"||ad===null){return}if(G!=="opacity"){Y=parseFloat(K(this.elem,G))}ab=ab||0;X=X||this.numFrames;var aa=this.elem,ae=this.frames,ac=(X-ab)||1,Z=(Y-ad)/ac;for(ab;ab<X;ab++){if(!ae[ab]){ae[ab]=new I}ae[ab].addStyle([aa,G,Y-=Z])}return this},addAction:function(G,X){this.frames[X].addAction(G);return this},step:function(){var G=this.frames.shift();if(G){G.exec()}else{clearInterval(this.interval)}},run:function(){clearInterval(this.interval);this.step();var G=this;if(this.numFrames>1){this.interval=setInterval(function(){G.step()},this.speed)}}};function I(){this.actions=[];this.styles=[]}I.prototype={addAction:function(G){this.actions.push(G)},addStyle:function(G){this.styles.push(G)},exec:function(){var Y=this.styles,G,X;for(X=Y.length;--X>-1;){if(Y[X][1]=="opacity"){M(Y[X][0],Y[X][2])}else{Y[X][0].style[Y[X][1]]=Y[X][2]+"px"}}if(G=this.actions.shift()){G()}}};return k})();