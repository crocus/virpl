http://scripts.igray.ru
Версия iLBS 0.1
Copyright Играй.ру, 2002 год
Каменщиков Сергей aka Veles
////////////////////////////

iLBS :: Описание
(скрипт пока только для тех, кто понимает что такое PHP!) iLBS - локальный баннерный движок для страниц на PHP с применением базы данных MySQL. Данный скрипт позволяет организовать на сайте или нескольких сайтах с одного хостинга управляемую ротацию баннеров. В принципе в будущем скрипт можно изменить таким образом, чтобы передавать все параметры через iframe, но пока движок работает только на страницах с php, вызывая отдельную функцию.<br><br>
<li>Таргетинг по сайтам и именованным диапазонам/страницам
<li>Установка даты начала и окончания показов баннеров
<li>Установка процента показов
<li>Три типа баннеров: коммерческие, дефолтовые и обычные
<li>Поддержка любых размеров баннеров
<li>Статистика по сайтам, баннерам, размерам, зонам, клиентам
<li>Статистика общая и подробная за последние 10 дней
<li>В текущей бета-версии, к сожалению, нет админских скриптов. Все операции с баннерами придется выполнять вручную, например, через MySQLAdmin. Автоматизирована только ротация.

iLBS :: Установка
1. В базу данных необходимо загрузить dump-схему таблиц, которая находиться в файле ilbs.sql.<br>
2. Создаем на сайте папочку, где будут храниться скрипты. Назовем ее, например, local.<br>
3. Закачиваем туда файлы:<br>
<li>admin.php - администрирование, не работает
<li>stats.php - статистика
<li>style.css - шрифты и прочее оформление
<li>ilbs.php - показывает баннер
<li>ilbsc.php - обрабатывает клик по баннеру
<br>Нужно отредактировать все файлы с расширением .php, поставив туда реальные значения переменных для подключения к БД: $dbhost, $dbuname, $dbpass, $dbname. В admin.php нужно установить $admin_login и $admin_password для доступа к админскому скрипту - он пока только сбрасывает старую статистику и удаляет баннеры.
<br>Обратите внимание на то, что все файлы должны лежать в одной папке.<br>
4. Поздравляю, скрипт установлен.

iLBS :: Использование
1. В каждом файле, где надо показывать баннер должна быть строка:<br>
require_once ("/полный путь/local/ilbs.php");<br>
2. Сам баннер вызывается коммандой:<br>
show_ilbs(a, b, c, d, e, f, rand());<br>
a - ширина баннера<br>
b - высота баннера<br>
с - положение на странице (top, bottom, middle, any)<br>
d - кол-во баннеров этого рамера на странице<br>
e - порядковый номер баннера<br>
f - номер сайта<br>
Например:<br>
show_ilbs(468, 60, "top", 2, 2, 1, rand());<br>
3. Для управления баннерами придется воспользоваться отдельным скриптом редактирования БД, например MySQL. Базы мы уже создали, теперь нужно создать баннеры. Первым делом создаем нового клиента в ibs_acc. Теперь делаем себе сайты в ibs_sites. Затем зоны в ibs_zones. Тут главное ztemplate, которая задает шаблон зоны. Например: "/index.php"  - это будет главная страница, а "/news.php" - это новости. 
Ну и хит сезона таблица ibs_ban. Струкутура таблицы такова:<br>
<li>id - номер баннера, задается автоматически
<li>link - ссылка баннера. если вам нужна статистика по кликам
<li>image - изображение баннера
<li>alt - поле alt рисунка
<li>html - тут можно задать html для баннера, например javascript-код баннерной сети с антикэшем, но тогда статистика по такому баннеру вестись не будет
<li>acc - номер аккаунта клиента
<li>w - ширина баннера
<li>h - высота
<li>percent - процент показов
<li>s - сайты, на которых показывать (0 - все)
<li>p - позиция на странице (top, middle, bottom, any)
<li>t - тип баннера (k - коммерческий (показывается в первую очередь), u - общий, d - дефолтовый (если комм и общих нет) )
<li>z - зона сайта (0 - все)
<li>b - номер баннера на странице
<li>rdate - дата старта
<li>sdate - дата стопа
<li>view - статистка (не заполнять)
<li>click - сатистика (не заполнять)<br><br>